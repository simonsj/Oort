{"name":"Challenge 4","author":"Rich Lane","description":"Missiles","teams":[{"name":"green","color":{"r":0,"g":255,"b":0},"ships":[{"class":"fighter","x":0,"y":0,"h":0}]},{"name":"eggplant","color":{"r":124,"g":0,"b":93},"ships":[{"class":"small_target","x":800,"y":800,"h":3.14},{"class":"small_target","x":-800,"y":800,"h":3.14},{"class":"small_target","x":800,"y":-800,"h":3.14},{"class":"small_target","x":-800,"y":-800,"h":3.14}],"code":"local min_dist = 2000\nlocal max_dist = 3000\nlocal my_ship = ships[class]\n\nfor i = 1,64 do\n\tturn_to(math.pi*5/4)\n\tyield()\nend\n\nthrust_main(my_ship.max_main_acc/10)\nsleep(64)\n\nwhile true do\n\tlocal t = sensor_contacts{ enemy=true, class=\"fighter\" }[1]\n\tlocal tx, ty = t:position()\n\tlocal x, y = position()\n\tlocal d = distance(x, y, tx, ty)\n\tif d < min_dist then\n\t\tturn_away(tx,ty)\n\telseif distance(x, y, tx, ty) > max_dist then\n\t\tturn_towards(tx,ty)\n\telse\n\t\tturn_towards(0,0)\n\tend\n\tyield()\nend\n"}]}